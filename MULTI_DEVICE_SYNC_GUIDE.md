# 多设备数据同步使用指南

## 功能概述

多设备数据同步功能允许您将网页的更改保存到一个JSON文件中，然后在其他设备上导入该文件，实现多设备间的数据互通。

## 主要功能

### 1. **数据导出**
- 将当前设备的所有绿化数据导出为JSON文件
- 包含区域信息、植物信息、浇水记录等完整数据
- 自动生成带时间戳的文件名

### 2. **数据导入**
- 从其他设备导出的JSON文件导入数据
- 自动验证数据格式和完整性
- 支持数据合并和冲突处理

### 3. **数据备份**
- 自动创建本地备份
- 支持备份恢复功能
- 防止数据丢失

## 使用方法

### 步骤1：导出数据文件

1. 打开绿化作战图网页
2. 点击顶部"数据管理"按钮
3. 在数据管理面板中找到"多设备同步"部分
4. 点击"导出数据文件"按钮
5. 系统会自动下载一个JSON文件，文件名格式为：`greening-data-YYYY-MM-DD.json`

### 步骤2：传输数据文件

将导出的JSON文件传输到目标设备：
- 通过U盘、网盘、邮件等方式传输
- 确保文件完整性，不要修改文件内容

### 步骤3：导入数据文件

1. 在目标设备上打开绿化作战图网页
2. 点击顶部"数据管理"按钮
3. 在数据管理面板中找到"多设备同步"部分
4. 点击"导入数据文件"按钮
5. 选择之前导出的JSON文件
6. 系统会自动验证并导入数据

## 数据文件格式

导出的JSON文件包含以下信息：

```json
{
  "version": "1.0.0",
  "exportTimestamp": 1234567890,
  "exportDeviceId": "device_abc123_1234567890",
  "exportDate": "2024-01-01T12:00:00.000Z",
  "data": {
    "greenAreas": {
      // 绿化区域数据
    },
    "selectedArea": "A区",
    "nextAreaLetter": "B",
    "currentPage": 1,
    "wateringCurrentPage": 1
  }
}
```

## 注意事项

### 1. **数据安全**
- 导出的文件包含完整的绿化数据
- 请妥善保管，避免泄露敏感信息
- 建议定期备份重要数据

### 2. **版本兼容性**
- 当前版本：1.0.0
- 不同版本间可能存在兼容性问题
- 建议使用相同版本的系统进行数据同步

### 3. **数据冲突处理**
- 导入时会自动合并数据
- 相同ID的数据会保留最新版本
- 建议在导入前备份当前数据

### 4. **文件大小限制**
- 建议单个文件不超过10MB
- 过大的文件可能影响导入速度
- 如遇问题，可尝试分批导出

## 故障排除

### 问题1：导出失败
**可能原因：**
- 浏览器不支持文件下载
- 数据格式错误
- 存储空间不足

**解决方案：**
- 检查浏览器设置
- 刷新页面重试
- 清理浏览器缓存

### 问题2：导入失败
**可能原因：**
- 文件格式不正确
- 文件损坏
- 版本不兼容

**解决方案：**
- 检查文件是否为有效的JSON格式
- 重新导出数据文件
- 确认版本兼容性

### 问题3：数据不完整
**可能原因：**
- 导入过程中断
- 文件传输损坏
- 数据格式变更

**解决方案：**
- 重新导入数据文件
- 检查文件完整性
- 联系技术支持

## 最佳实践

### 1. **定期同步**
- 建议每周进行一次数据同步
- 重要更改后立即导出备份
- 保持多设备数据一致性

### 2. **文件管理**
- 为导出的文件添加日期标识
- 建立文件命名规范
- 定期清理旧文件

### 3. **数据验证**
- 导入后检查数据完整性
- 验证关键信息是否正确
- 测试主要功能是否正常

## 技术支持

如遇到问题，请：
1. 检查浏览器控制台错误信息
2. 确认文件格式和大小
3. 尝试重新导出和导入
4. 联系技术支持团队

---

**版本：** 1.0.0  
**更新日期：** 2024年1月  
**支持浏览器：** Chrome, Firefox, Safari, Edge 